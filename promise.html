<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // fetch
        const a = (url) => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve({ username: 'foo', age: 90, url });
                }, 1000);
            })

            // Do AJAX
            // if (error) {
            //     reject('msg:', error)
            // } else {
            //     resolve({ username: 'foo', age: '90' })
            // }
        }

        a('ggqq.json')
        .then((data) => {
            console.log(data);
            // expected output: 'foo'
            // 解構賦值 因為 age 重複了
            // 後蓋前
            return {...data, age: data.age*2};
        }).then((data) => {
            console.log(data);
        })
    </script>
</body>
</html>